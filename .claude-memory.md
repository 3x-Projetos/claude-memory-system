# Claude Memory - Toolbox

Este arquivo serve como Ã­ndice central da "caixa de ferramentas" - arquivos de memÃ³ria persistente que definem workflows, processos e contextos para auxiliar nas interaÃ§Ãµes com Claude neste diretÃ³rio.

**Leia este arquivo no inÃ­cio de cada sessÃ£o para ter acesso Ã s ferramentas e contextos disponÃ­veis.**

---

## About

Este diretÃ³rio contÃ©m arquivos de workflow e memÃ³ria que permitem ao Claude manter consistÃªncia e eficiÃªncia nas interaÃ§Ãµes. Cada arquivo de memÃ³ria documenta um processo especÃ­fico que pode ser invocado durante as sessÃµes.

---

## Ferramentas DisponÃ­veis

### 1. Workflow de OrganizaÃ§Ã£o de Notas
**Arquivo**: `.workflow-claude-notes-organization.md`

**PropÃ³sito**: Define o processo padrÃ£o para organizaÃ§Ã£o de notas diÃ¡rias com identificaÃ§Ã£o de tÃ³picos e sugestÃ£o de prioridades.

**Quando usar**: Sempre que houver um arquivo de notas com blocos `[raw]` e `[prompt]` que precise ser processado.

**Estrutura**:
- Blocos: `[raw]` â†’ `[prompt]` â†’ `[organized]`
- Separadores: `---` entre blocos
- Tags sempre em minÃºsculas

**Comando tÃ­pico**:
```
leia o [arquivo].md e execute a aÃ§Ã£o contida no bloco [prompt].
Registre o retorno no local [organized], mantendo a tag.
```

**Output esperado**:
- Topics Identified & Organized
- Suggested Priorities com prÃ³ximos passos

### 2. Workflow de Session Logging
**Arquivo**: `.workflow-session-logging.md`

**PropÃ³sito**: Registrar todas as interaÃ§Ãµes e atividades realizadas em cada sessÃ£o para manter histÃ³rico e continuidade.

**Quando usar**:
- InÃ­cio: `/start` carrega contexto e lembra de fazer log
- Fim: `/end` cria/atualiza log da sessÃ£o

**Estrutura**:
- Arquivo: `YYYY.MM.DD.md` (exemplo: `2025.11.15.md`)
- Bloco: `[session-log]`
- SeÃ§Ãµes: Agente, Atividades, Arquivos modificados, PrÃ³ximos passos, Notas

**ObrigatÃ³rio**: Toda sessÃ£o deve ter seu log registrado

**Multi-Agent Support**: Campo "Agente" identifica qual AI trabalhou na sessÃ£o (Claude, Gemini, etc)

### 3. Workflow de Session Continuity
**Arquivo**: `.workflow-session-continuity.md`

**PropÃ³sito**: Manter contexto entre sessÃµes, permitindo retomar trabalho de onde parou ou iniciar nova atividade com awareness do histÃ³rico.

**Como funciona**:
- `/start` lÃª automaticamente o log mais recente
- Apresenta resumo da Ãºltima sessÃ£o
- Lista pendÃªncias (tarefas nÃ£o concluÃ­das)
- Pergunta se deve continuar ou iniciar novo foco

**BenefÃ­cios**:
- Continuidade natural sem reexplicar contexto
- Retoma direto de onde parou
- Flexibilidade para mudar de foco mantendo histÃ³rico

---

## ConvenÃ§Ãµes Gerais

### Nomenclatura de Arquivos de MemÃ³ria
- Prefixo com `.` para arquivos ocultos de workflow
- Formato: `.workflow-[nome-descritivo].md`
- MemÃ³ria central: `.claude-memory.md` (este arquivo)

### Tags e Marcadores
- Sempre minÃºsculas: `[raw]`, `[prompt]`, `[organized]`, etc.
- Separadores visuais: `---`
- Blocos claramente demarcados

---

## Frameworks de PriorizaÃ§Ã£o

### Quick Win Framework
**Uso**: Priorizar tarefas baseado em benefÃ­cio vs dificuldade

**CritÃ©rios**:
- **BenefÃ­cio**: Impacto/ganho da tarefa (Alto/MÃ©dio/Baixo)
- **Dificuldade**: Tempo e complexidade de implementaÃ§Ã£o (Alta/MÃ©dia/Baixa)

**Matriz de PriorizaÃ§Ã£o**:
1. ğŸ¯ **Quick Wins** (Alto benefÃ­cio + Baixa dificuldade) â†’ PRIORIDADE MÃXIMA
2. ğŸ“ˆ **Major Projects** (Alto benefÃ­cio + Alta dificuldade) â†’ Planejar bem
3. ğŸ”§ **Fill Ins** (Baixo benefÃ­cio + Baixa dificuldade) â†’ Quando sobrar tempo
4. âŒ **Time Wasters** (Baixo benefÃ­cio + Alta dificuldade) â†’ Evitar

**Exemplo aplicado**:
- SessionEnd hook: Alto benefÃ­cio (nunca perde sessÃ£o) + Baixa dificuldade (5-10 min) = ğŸ¯ Quick Win

**Quando usar**: Ao planejar implementaÃ§Ãµes ou decidir prÃ³ximos passos

---

## Slash Commands DisponÃ­veis

### `/continue`
**Uso recomendado para retomar trabalho**. Carrega ferramentas e contexto da Ãºltima sessÃ£o, assume que vai continuar de onde parou. Apresenta pendÃªncias e continua direto.

### `/new`
**Uso recomendado para nova atividade**. Carrega ferramentas e awareness da Ãºltima sessÃ£o, mas foca em comeÃ§ar algo novo. NÃ£o lista pendÃªncias.

### `/start`
Carrega ferramentas e contexto, mas **pergunta** se deseja continuar ou iniciar novo. Use quando quiser escolher na hora.

### `/memory`
Consulta a caixa de ferramentas durante a sessÃ£o. Ãštil para relembrar workflows disponÃ­veis.

### `/organize`
Executa o workflow de organizaÃ§Ã£o de notas. Pode especificar o arquivo ou serÃ¡ perguntado.

### `/end`
Finaliza a sessÃ£o criando/atualizando o log de atividades do dia (YYYY.MM.DD.md). Pergunta sobre atividades realizadas e cria registro estruturado.

### `/auto-approve`
**Toggle em tempo real de auto-aprovaÃ§Ã£o com mÃºltiplos nÃ­veis.**

Uso:
- `/auto-approve on` - Ativa modo "edits" (Edit/Write apenas)
- `/auto-approve bash` - Ativa modo "bash" (Edit/Write/Bash)
- `/auto-approve all` - Ativa modo "all" (todos os tools)
- `/auto-approve off` - Desativa tudo (comportamento padrÃ£o)
- `/auto-approve status` - Verifica nÃ­vel atual

Controla quais operaÃ§Ãµes requerem aprovaÃ§Ã£o manual. MudanÃ§as aplicam instantaneamente.

**NÃ­veis disponÃ­veis**:
- `off` - Nada aprovado automaticamente
- `edits` - Apenas Edit e Write
- `bash` - Edit, Write e Bash (padrÃ£o recomendado para fluxo fluido)
- `all` - Todos os tools (mÃ¡xima automaÃ§Ã£o)

---

## Auto-AprovaÃ§Ã£o com MÃºltiplos NÃ­veis

**Status**: âœ… Configurado com toggle em tempo real e mÃºltiplos nÃ­veis

**Arquivos**:
- `.claude/settings.json` - ConfiguraÃ§Ã£o local do hook
- `.claude/auto-approve-state` - Arquivo de estado (off/edits/bash/all)
- `.claude/auto-approve-edits.py` - Script PreToolUse com lÃ³gica de nÃ­veis
- `.claude/AUTO-APPROVE-README.md` - DocumentaÃ§Ã£o completa

**PropÃ³sito**: Elimina prompts de aprovaÃ§Ã£o manual para operaÃ§Ãµes selecionadas, com controle granular.

**NÃ­veis disponÃ­veis**:
- `off` - Nada aprovado automaticamente
- `edits` - Apenas Edit e Write
- `bash` - Edit, Write e Bash (padrÃ£o recomendado para fluxo fluido)
- `all` - Todos os tools (mÃ¡xima automaÃ§Ã£o)

**Como usar**:
1. **Primeira vez**: Reinicie o Claude CLI para registrar o hook
2. **PadrÃ£o recomendado**: `bash` (jÃ¡ configurado)
   - Aprova: Edit, Write, Bash
   - Fluxo de trabalho fluido sem interrupÃ§Ãµes
3. **Outros nÃ­veis disponÃ­veis**:
   - `/auto-approve edits` â†’ apenas Edit/Write
   - `/auto-approve all` â†’ todos os tools (mÃ¡xima automaÃ§Ã£o)
   - `/auto-approve off` â†’ desativa tudo
4. **Verificar**: Use `/auto-approve status` para ver nÃ­vel atual

**Toggle em tempo real**: Hook lÃª arquivo de estado a cada operaÃ§Ã£o, permitindo mudar de nÃ­vel sem reiniciar CLI.

**Escopo**: Funciona APENAS neste diretÃ³rio (nÃ£o afeta outros projetos).

**Importante**: ConfiguraÃ§Ã£o LOCAL (`.claude/settings.json`), nÃ£o global. PortÃ¡vel e isolada por projeto.

---

## Graceful Shutdown (Lazy Logging Strategy)

**Status**: âœ… Implementado com estratÃ©gia Lazy Logging

**PropÃ³sito**: Garantir que **nenhuma sessÃ£o seja perdida**, mesmo se vocÃª encerrar com Ctrl+C sem usar `/end`.

**EstratÃ©gia - "Lazy Logging"**:
Registra a sessÃ£o anterior no **prÃ³ximo startup** (em vez de tentar registrar no shutdown).

**Como funciona**:

1. **SessionStart hook** (`.claude/session-start.py`):
   - Executa automaticamente ao iniciar CLI
   - **PASSO 1**: Verifica se existe `.previous-session-id`
     - Se SIM â†’ sessÃ£o anterior nÃ£o foi logged â†’ **cria registro automÃ¡tico AGORA**
     - Se NÃƒO â†’ sessÃ£o anterior foi logged via `/end` â†’ nada a fazer
   - **PASSO 2**: Marca inÃ­cio da nova sessÃ£o (cria novo `.previous-session-id`)

2. **Durante a sessÃ£o**:
   - Se vocÃª usa `/end` â†’ deleta `.previous-session-id` + cria log detalhado âœ…
   - Se vocÃª nÃ£o usa `/end` â†’ arquivo `.previous-session-id` permanece

3. **Ao encerrar com Ctrl+C**:
   - CLI fecha imediatamente (sem executar hooks)
   - Arquivo `.previous-session-id` fica lÃ¡ (serÃ¡ processado no prÃ³ximo startup)

**Exemplo prÃ¡tico**:
```
SessÃ£o 1:
  - Startup: Sem .previous-session-id â†’ nada a fazer
  - Trabalho...
  - Encerra com Ctrl+C â†’ .previous-session-id permanece

SessÃ£o 2:
  - Startup: Detecta .previous-session-id da SessÃ£o 1
  - Cria entrada automÃ¡tica: "SessÃ£o 14:30 (Lazy Logging)"
  - Deleta .previous-session-id
  - Cria novo .previous-session-id para SessÃ£o 2
  - Trabalho...
  - Usa /end â†’ log detalhado + deleta .previous-session-id âœ…

SessÃ£o 3:
  - Startup: Sem .previous-session-id â†’ SessÃ£o 2 foi logged â†’ nada a fazer
```

**Tipos de log**:
- **Com `/end`**: Log detalhado com atividades, mÃ©tricas, prÃ³ximos passos
- **Sem `/end`**: Log bÃ¡sico com apenas timestamp (placeholder)

**Arquivos**:
- `.claude/session-start.py` - Lazy Logging + marca inÃ­cio da nova sessÃ£o
- `.claude/.previous-session-id` - Estado da sessÃ£o (criado no startup, deletado pelo `/end`)
- `.claude/.current-session-id` - Mantido para compatibilidade
- `.claude/settings.json` - Hook SessionStart registrado

**BenefÃ­cios**:
- âœ… Funciona no Windows com Ctrl+C (SessionEnd nÃ£o funciona)
- âœ… Zero fricÃ§Ã£o (funciona silenciosamente)
- âœ… Nunca perde sessÃ£o (sempre haverÃ¡ registro, mesmo que bÃ¡sico)
- âœ… Suporta mÃºltiplas sessÃµes por dia
- âœ… NÃ£o interfere com `/end` manual
- âœ… Logs detalhados quando usa `/end`, placeholders quando esquece

**LimitaÃ§Ã£o conhecida**: Logs automÃ¡ticos nÃ£o contÃªm conteÃºdo (apenas timestamp), pois CLI nÃ£o tem acesso ao histÃ³rico de conversas apÃ³s encerrar. **Use `/end` para logs completos.**

**AtivaÃ§Ã£o**: Requer reiniciar Claude CLI uma vez. ApÃ³s isso, funciona automaticamente em todas as sessÃµes.

---

## Como Replicar Este Sistema em Novo Projeto

**Arquivo**: `.claude/setup-claude-memory.sh`

**Como usar**:
```bash
# OpÃ§Ã£o 1: Executar direto deste diretÃ³rio
bash .claude/setup-claude-memory.sh /caminho/do/novo/projeto

# OpÃ§Ã£o 2: Copiar script e executar lÃ¡
cp .claude/setup-claude-memory.sh /novo/projeto/
cd /novo/projeto
bash setup-claude-memory.sh
```

**O que faz**:
- Cria toda estrutura (memÃ³ria, workflows, comandos)
- Instala documentaÃ§Ã£o completa
- Sistema fica idÃªntico ao deste diretÃ³rio
- Pronto para usar apÃ³s reiniciar Claude CLI

**ApÃ³s instalaÃ§Ã£o**:
1. Reiniciar Claude CLI
2. Usar `/start` para comeÃ§ar
3. Sistema completo funcionando

---

## Sistema de MemÃ³ria HierÃ¡rquica

**Status**: âœ… Implementado (FASE 0-6 completas)
**VersÃ£o**: 2.0

### Arquitetura

Sistema completo de memÃ³ria multi-camadas com agregaÃ§Ã£o temporal para economia de tokens e personalizaÃ§Ã£o contÃ­nua.

**MemÃ³ria Global** (multi-projeto):
- LocalizaÃ§Ã£o: `~/.claude-memory/`
- Perfil do usuÃ¡rio versionado
- Compartilhado entre todos os projetos Claude
- PII protegido via redaÃ§Ã£o automÃ¡tica

**MemÃ³ria Local** (por projeto):
- Working memory: `.session-state.md` (~50 linhas)
- Logs diÃ¡rios: `logs/daily/YYYY.MM.DD.md` (detalhado)
- Resumos semanais: `logs/weekly/YYYY.MM.weekN.md` (~100 linhas)
- Resumos mensais: `logs/monthly/YYYY.MM.md` (~30 linhas)

**Economia de Tokens**: 50-96% dependendo da hierarquia carregada

### Estrutura de DiretÃ³rios

```
# Projeto Local
.session-state.md              # Working memory (ativo)
.projects/                     # Project-Centric Memory (M008)
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ [project-name]/
â”‚       â”œâ”€â”€ .context.md        # Working memory do projeto
â”‚       â”œâ”€â”€ .status.md         # Roadmap, decisÃµes, mÃ©tricas
â”‚       â””â”€â”€ history/           # Logs especÃ­ficos (opcional)
logs/
â”œâ”€â”€ daily/                     # Logs detalhados
â”œâ”€â”€ weekly/                    # AgregaÃ§Ãµes semanais
â””â”€â”€ monthly/                   # AgregaÃ§Ãµes mensais
.claude/
â””â”€â”€ performance/               # Performance Tracking (M009)
    â”œâ”€â”€ profiles/              # Performance profiles por modelo
    â”œâ”€â”€ comparisons/           # AnÃ¡lises comparativas mensais
    â””â”€â”€ context-analysis/      # Insights de otimizaÃ§Ã£o

# MemÃ³ria Global (~/.claude-memory/)
global-memory.md               # Perfil completo (com PII)
global-memory.safe.md          # Perfil redacted (auto-gerado)
profile-history/               # Snapshots versionados
â”‚   â””â”€â”€ YYYY-MM-DD_*.md
profile-changelog.md           # HistÃ³rico de mudanÃ§as
projects/                      # ReferÃªncias a projetos
    â””â”€â”€ [project-name].md
```

### Workflows de AgregaÃ§Ã£o

**4 Workflows documentados**:
1. `.workflow-weekly-aggregation.md` - Dia â†’ Semana (~85% economia)
2. `.workflow-monthly-aggregation.md` - Semana â†’ MÃªs (~93% economia vs diÃ¡rios)
3. `.workflow-profile-update.md` - AtualizaÃ§Ã£o de perfil (mensal ou trigger-based)
4. `.workflow-metrics-collection.md` - MÃ©tricas holÃ­sticas (7 dimensÃµes)

### Comandos Slash Atualizados

**9 Comandos disponÃ­veis**:
- `/start` - Pergunta se continua ou inicia novo
- `/continue` - Retoma de onde parou (carrega hierarquia + pendÃªncias)
- `/new` - Nova atividade (carrega hierarquia, sem pendÃªncias)
- `/memory` - Consulta ferramentas disponÃ­veis
- `/organize` - Organiza notas
- `/end` - Finaliza sessÃ£o (logs + mÃ©tricas + session-state)
- `/update-profile` - Atualiza perfil global (manual)
- `/reflect` - Coleta mÃ©tricas de well-being
- `/aggregate` - ForÃ§a agregaÃ§Ã£o semanal/mensal

### Sistema de Privacidade (PII Redaction)

**Arquivo**: `.claude/redact-pii.py`

**Funcionamento**:
- Marca PII em `global-memory.md`: `[PII:TYPE]value[/PII:TYPE]`
- Gera `global-memory.safe.md`: `[REDACTED:TYPE]`
- Executado automaticamente por `/continue` e `/new`

**Tipos PII suportados**:
- NAME, EMAIL, LOCATION, COMPANY, PROJECT
- CREDENTIAL, API, DOCUMENT

**HÃ­brido**:
- Dados completos localmente (`global-memory.md`)
- Dados redacted em transmissÃ£o (`.safe.md`)

### Framework de MÃ©tricas HolÃ­sticas

**Arquivo**: `.claude/METRICS-FRAMEWORK.md`

**7 DimensÃµes de Impacto Humano**:
1. Performance & Productivity
2. Cognitive Load & Mental Energy
3. Well-Being & Satisfaction
4. Learning & Growth
5. Autonomy & Empowerment
6. Collaboration Quality
7. Life Integration

**Coleta**:
- **Inferidos**: AnÃ¡lise automÃ¡tica de logs (complexity, velocity, tech exposure)
- **Calculados**: Derivados (time saved, autonomy growth)
- **Relatados**: Via `/reflect` (satisfaction, energy, frustration)

**AgregaÃ§Ã£o**: MÃ©tricas aparecem em logs diÃ¡rios, resumos semanais e mensais

### Perfil Global Versionado

**ConteÃºdo**:
- User Profile (identity, working style, tech preferences, communication)
- Collaboration Patterns (como trabalhar com Claude)
- Projects Context (projetos ativos)
- Opportunities & Quick Wins
- Recurring Architecture Decisions
- Meta-Learnings

**Versionamento**:
- SemÃ¢ntico: Major.Minor (ex: 2.1)
- Snapshots em `profile-history/`
- Changelog completo em `profile-changelog.md`

**AtualizaÃ§Ã£o**:
- Mensal (automÃ¡tico via `/continue`)
- Threshold (3+ menÃ§Ãµes/semana de mudanÃ§a)
- Manual (via `/update-profile`)

### Como Usar

**InÃ­cio de sessÃ£o**:
```
/continue  â†’ Retoma trabalho (pendÃªncias listadas)
/new       â†’ Nova atividade (sem pressÃ£o de pendÃªncias)
```

**Durante sessÃ£o**:
```
/reflect   â†’ Registra well-being (opcional)
/organize  â†’ Processa notas
```

**Fim de sessÃ£o**:
```
/end       â†’ Cria log + mÃ©tricas + atualiza session-state
```

**ManutenÃ§Ã£o**:
```
/aggregate week      â†’ Toda segunda-feira (recomendado)
/aggregate month     â†’ Todo dia 1 do mÃªs (recomendado)
/update-profile      â†’ Quando detectar mudanÃ§as significativas
```

### BenefÃ­cios

**Economia de Tokens**:
- Carregamento tÃ­pico: ~330 linhas (hierarquia)
- Vs logs brutos: ~5.000+ linhas
- **Economia: ~93%**

**PersonalizaÃ§Ã£o ContÃ­nua**:
- Claude aprende suas preferÃªncias ao longo do tempo
- Adapta colaboraÃ§Ã£o ao seu working style
- Sugere melhorias baseadas em padrÃµes

**Insights HolÃ­sticos**:
- Tracking de impacto humano (alÃ©m de produtividade)
- TendÃªncias de well-being, aprendizado, autonomia
- IdentificaÃ§Ã£o de padrÃµes e oportunidades

**Continuidade**:
- Zero perda de contexto entre sessÃµes
- Retoma trabalho exatamente de onde parou
- HistÃ³rico completo rastreÃ¡vel

---

## Project-Centric Memory Layer (M008)

**Status**: âœ… Implementado
**VersÃ£o**: 2.1+

### PropÃ³sito

Sistema **bidimensional** de memÃ³ria que suporta trabalho multi-projeto:
- **DimensÃ£o temporal**: daily â†’ weekly â†’ monthly (jÃ¡ existente)
- **DimensÃ£o projeto**: working memory + status por projeto (NOVO)

### Por Que Foi Criado

**Problema**: Framework anterior era unidimensional (time-centric apenas)
- UsuÃ¡rio trabalha em mÃºltiplos projetos paralelamente
- Aumentava clutter mental
- DifÃ­cil rastrear status por projeto
- Context switching manual

**SoluÃ§Ã£o**: Adicionar camada project-centric

### Estrutura

```
.projects/
â”œâ”€â”€ README.md                  # Templates e categorias
â””â”€â”€ [project-name]/
    â”œâ”€â”€ .context.md            # Working memory do projeto
    â”œâ”€â”€ .status.md             # Roadmap, milestones, decisÃµes
    â””â”€â”€ history/               # Logs especÃ­ficos (opcional)
```

### Categorias Suportadas (VisÃ£o HolÃ­stica)

- ğŸ’» Code
- ğŸ¨ Creative
- ğŸ—ï¸ Physical
- ğŸ‘¤ Personal
- ğŸ¤ Social/Community
- ğŸ’¼ Business/Finance
- ğŸ¤– AI/Research
- ğŸŒ Infrastructure/Network
- ğŸŒ Other

**Filosofia**: Sistema suporta todos os aspectos da vida, nÃ£o apenas cÃ³digo

### Comandos DisponÃ­veis

**Novos**:
- `/projects` - Dashboard de todos os projetos (agrupados por categoria)
- `/switch [project-name]` - Muda contexto para projeto especÃ­fico
- `/project-status [project-name]` - Atualiza roadmap/decisÃµes

**Atualizados**:
- `/continue` - Pergunta qual projeto trabalhar
- `/new` - Permite escolher projeto ou criar novo
- `/end` - Registra "projects touched" com % tempo por projeto

### BenefÃ­cios

- âœ… ReduÃ§Ã£o de clutter mental (tudo organizado por projeto)
- âœ… Context switching fluido (memÃ³ria especÃ­fica por projeto)
- âœ… Tracking de status claro (COMPLETE/IMPLEMENTING/PLANNING/PAUSED/BLOCKED)
- âœ… VisÃ£o holÃ­stica (nÃ£o apenas cÃ³digo - todos os aspectos da vida)
- âœ… Dashboard consolidado (ver todos os projetos de uma vez)

---

## Agent Performance Tracking (M009)

**Status**: âœ… Estrutura implementada, coleta inicia no prÃ³ximo `/end`
**VersÃ£o**: 2.1+

### PropÃ³sito

Metrificar e comparar performance de diferentes agentes e modelos para decisÃµes **data-driven** sobre qual usar em cada contexto.

### Por Que Foi Criado

**Problema**:
- Sem dados sobre o que cada modelo/agente faz bem
- Escolha de modelo Ã© empÃ­rica (nÃ£o data-driven)
- DesperdÃ­cio de tokens/custo usando modelo errado para tarefa
- Janela de contexto nÃ£o Ã© otimizada (prompts muito longos/curtos)
- NÃ£o hÃ¡ baseline para comparar modelos

**SoluÃ§Ã£o**: Sistema de tracking contÃ­nuo com foco em **context window optimization**

### Estrutura

```
.claude/performance/
â”œâ”€â”€ README.md
â”œâ”€â”€ TEMPLATE-performance-profile.md
â”œâ”€â”€ profiles/
â”‚   â”œâ”€â”€ claude-sonnet-4.5.md
â”‚   â”œâ”€â”€ claude-haiku.md
â”‚   â”œâ”€â”€ gemini-1.5-pro.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ comparisons/
â”‚   â””â”€â”€ 2025.11.md
â””â”€â”€ context-analysis/
    â””â”€â”€ prompt-optimization.md
```

### MÃ©tricas Coletadas

**Quantitativas (Auto)**:
- Tokens/session, Context window usage, Prompt length distribution
- Output/Input ratio, Latency, Cost
- Efficiency (framework vs sem), Volume (files, lines)
- Context limit hits

**Qualitativas (Inferidas + Opcionalmente Perguntadas)**:
- Task type, Specialization, Quality rating (1-5 stars)
- Success rate, Pattern detection, Context efficiency

**Context Window Metrics** (foco principal):
- Window utilization (avg, peak, limit hits)
- Optimal prompt range (correlaÃ§Ã£o qualidade vs tamanho)
- Sweet spot identification (ex: 40-60% = melhor qualidade)
- Diminishing returns threshold
- Framework ROI (economia de tokens)

### Workflow de Coleta

**Integrado no `/end` (Passo 4)**:
1. **Auto-detectar**: modelo, tokens, duration, files, tech, task type, project
2. **Perguntar (opcional)**: qualidade (1-5), completou? (yes/partial/no), categoria
3. **Registrar**: append to performance profile
4. **No log diÃ¡rio**: incluir seÃ§Ã£o "Performance Metrics"

### AnÃ¡lises Geradas

**Mensal** (via `/aggregate month`):
- Re-calcular stats agregados
- AnÃ¡lise comparativa entre modelos
- Identificar sweet spots de contexto por task type
- Context optimization insights

**Insights Esperados** (exemplos):
```
ğŸ“Š Context Analysis: Tarefas de architecture tÃªm qualidade 4.8/5
quando contexto usado Ã© 50-70%, mas cai para 4.1/5 quando >85%.

ğŸ’¡ Model Selection: Tarefa "refactor simples" detectada.
Considere Haiku (20x mais rÃ¡pido, 75% mais barato, qualidade 4.2/5).
```

### BenefÃ­cios

- **Economia de tokens**: Escolher modelo right-sized
- **Melhor qualidade**: Usar modelo especializado quando importa
- **Prompt optimization**: Identificar comprimento Ã³timo
- **Context efficiency**: Saber quando mais contexto ajuda vs atrapalha
- **Comparative analysis**: Data para decidir qual modelo usar
- **ROI do framework**: Quantificar benefÃ­cio da hierarquia
- **Multi-agent orchestration**: Dados para routing inteligente (futuro)

### Fases de ImplementaÃ§Ã£o

- âœ… Fase 1 (Implementada): Estrutura, templates, coleta integrada no `/end`
- ğŸ“‹ Fase 2 (ApÃ³s 2-3 semanas): AnÃ¡lise comparativa mensal
- ğŸ“‹ Fase 3 (ApÃ³s 1-2 meses): RecomendaÃ§Ãµes automÃ¡ticas no `/end`
- ğŸ“‹ Fase 4 (Futuro): Multi-agent routing automÃ¡tico

---

## Como Adicionar Novas Ferramentas

1. Crie arquivo `.workflow-[nome].md` documentando o processo
2. Adicione entrada nesta seÃ§Ã£o "Ferramentas DisponÃ­veis"
3. Descreva: arquivo, propÃ³sito, quando usar, estrutura esperada
4. Opcionalmente, crie slash command em `.claude/commands/[nome].md`

---

## Contexto do DiretÃ³rio

**Tipo**: Obsidian Vault
**Uso**: Notas pessoais, organizaÃ§Ã£o de ideias, workflows de criaÃ§Ã£o
**TÃ³picos principais**: Creative workflow, image generation, LLM infrastructure, scene development

---

*Ãšltima atualizaÃ§Ã£o: 2025-11-16*
